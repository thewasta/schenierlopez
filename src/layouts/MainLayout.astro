---
import "../styles/global.css";

export interface Props {
  title: string;
  description: string;
  image?: string;
  type?: "website" | "article";
}

const { title, description, image, type = "website" } = Astro.props;
const siteUrl = Astro.site?.href || new URL(Astro.url.pathname, Astro.url).href;
const currentImage = image || "/images/og-default.jpg";
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content={description} />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
    <meta name="title" content={title} />

    <meta property="og:type" content={type} />
    <meta property="og:url" content={siteUrl} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={new URL(currentImage, siteUrl).href} />

    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content={siteUrl} />
    <meta property="twitter:title" content={title} />
    <meta property="twitter:description" content={description} />
    <meta
      property="twitter:image"
      content={new URL(currentImage, siteUrl).href}
    />

    <meta name="robots" content="index, follow" />
    <meta name="language" content="Spanish" />
    <meta name="author" content="Schenier Lopez" />
  </head>

  <body
    class="bg-slate-950 text-slate-100 antialiased selection:bg-blue-500/30 selection:text-blue-200"
  >
    <div class="fixed inset-0 z-0 pointer-events-none">
      <div
        class="absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"
      >
      </div>
      <div
        class="absolute inset-0 bg-linear-to-br from-slate-950 via-slate-900 to-slate-950"
      >
      </div>
      <div
        class="absolute top-0 left-0 right-0 h-[500px] bg-blue-500/5 blur-[120px] rounded-full mix-blend-screen"
      >
      </div>
      <div
        class="absolute bottom-0 right-0 w-[500px] h-[500px] bg-indigo-500/5 blur-[120px] rounded-full mix-blend-screen"
      >
      </div>
    </div>

    <header
      id="main-header"
      class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 border-b border-transparent"
    >
      <nav
        class="container mx-auto px-6 h-20 flex items-center justify-between"
      >
        <a href="/" class="group flex items-center space-x-3 z-50 relative">
          <div
            class="relative h-10 w-10 overflow-hidden rounded-xl bg-slate-900 border border-slate-700 group-hover:border-blue-500/50 transition-colors duration-300 flex items-center justify-center"
          >
            <div
              class="absolute inset-0 bg-linear-to-br from-blue-600/20 to-purple-600/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"
            >
            </div>
            <span
              class="font-display font-bold text-xl text-transparent bg-clip-text bg-linear-to-br from-blue-400 to-indigo-400"
              >SL</span
            >
          </div>
          <div class="flex flex-col">
            <span
              class="text-lg font-bold font-display text-slate-100 tracking-tight group-hover:text-blue-400 transition-colors duration-300"
              >Schenier Lopez</span
            >
            <span
              class="text-xs text-slate-500 font-mono group-hover:text-blue-500/70 transition-colors duration-300"
              >Backend Developer</span
            >
          </div>
        </a>

        <div class="hidden md:flex items-center space-x-1">
          <a
            href="#about"
            class="nav-link px-4 py-2 text-sm font-medium text-slate-400 hover:text-blue-400 transition-colors duration-200 relative group"
          >
            <span class="relative z-10">Sobre Mí</span>
            <div
              class="absolute inset-0 bg-blue-500/5 rounded-lg scale-90 opacity-0 group-hover:scale-100 group-hover:opacity-100 transition-all duration-200"
            >
            </div>
          </a>
          <a
            href="#tech"
            class="nav-link px-4 py-2 text-sm font-medium text-slate-400 hover:text-blue-400 transition-colors duration-200 relative group"
          >
            <span class="relative z-10">Stack</span>
            <div
              class="absolute inset-0 bg-blue-500/5 rounded-lg scale-90 opacity-0 group-hover:scale-100 group-hover:opacity-100 transition-all duration-200"
            >
            </div>
          </a>
          <a
            href="#portfolio"
            class="nav-link px-4 py-2 text-sm font-medium text-slate-400 hover:text-blue-400 transition-colors duration-200 relative group"
          >
            <span class="relative z-10">Portafolio</span>
            <div
              class="absolute inset-0 bg-blue-500/5 rounded-lg scale-90 opacity-0 group-hover:scale-100 group-hover:opacity-100 transition-all duration-200"
            >
            </div>
          </a>
          <a
            href="#services"
            class="nav-link px-4 py-2 text-sm font-medium text-slate-400 hover:text-blue-400 transition-colors duration-200 relative group"
          >
            <span class="relative z-10">Servicios</span>
            <div
              class="absolute inset-0 bg-blue-500/5 rounded-lg scale-90 opacity-0 group-hover:scale-100 group-hover:opacity-100 transition-all duration-200"
            >
            </div>
          </a>
          <a
            href="#blog"
            class="nav-link px-4 py-2 text-sm font-medium text-slate-400 hover:text-blue-400 transition-colors duration-200 relative group"
          >
            <span class="relative z-10">Blog</span>
            <div
              class="absolute inset-0 bg-blue-500/5 rounded-lg scale-90 opacity-0 group-hover:scale-100 group-hover:opacity-100 transition-all duration-200"
            >
            </div>
          </a>
          <div class="pl-4 ml-4 border-l border-slate-800">
            <a
              href="#contact"
              class="inline-flex items-center justify-center px-5 py-2 text-sm font-medium text-white transition-all duration-200 bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 shadow-[0_0_20px_rgba(37,99,235,0.3)] hover:shadow-[0_0_30px_rgba(37,99,235,0.5)]"
            >
              Contactar
            </a>
          </div>
        </div>

        <button
          id="mobile-menu-btn"
          class="md:hidden relative z-50 p-2 text-slate-300 hover:text-blue-400 transition-colors duration-200 focus:outline-none"
        >
          <div class="w-6 h-5 flex flex-col justify-between relative">
            <span
              class="w-full h-0.5 bg-current transform transition-all duration-300 origin-left"
            ></span>
            <span
              class="w-full h-0.5 bg-current transform transition-all duration-300"
            ></span>
            <span
              class="w-full h-0.5 bg-current transform transition-all duration-300 origin-left"
            ></span>
          </div>
        </button>
      </nav>

      <div
        id="mobile-menu"
        class="fixed inset-0 z-40 bg-slate-950/95 backdrop-blur-xl transform translate-x-full transition-transform duration-300 md:hidden flex items-center justify-center"
      >
        <div class="flex flex-col items-center space-y-8 p-8">
          <a
            href="#about"
            class="mobile-link text-2xl font-medium text-slate-300 hover:text-blue-400 transition-colors duration-200"
            >Sobre Mí</a
          >
          <a
            href="#tech"
            class="mobile-link text-2xl font-medium text-slate-300 hover:text-blue-400 transition-colors duration-200"
            >Stack</a
          >
          <a
            href="#portfolio"
            class="mobile-link text-2xl font-medium text-slate-300 hover:text-blue-400 transition-colors duration-200"
            >Portafolio</a
          >
          <a
            href="#services"
            class="mobile-link text-2xl font-medium text-slate-300 hover:text-blue-400 transition-colors duration-200"
            >Servicios</a
          >
          <a
            href="#blog"
            class="mobile-link text-2xl font-medium text-slate-300 hover:text-blue-400 transition-colors duration-200"
            >Blog</a
          >
          <a
            href="#contact"
            class="mobile-link px-8 py-3 text-lg font-medium text-white bg-blue-600 rounded-xl hover:bg-blue-700 shadow-lg shadow-blue-600/30 transition-all duration-200"
          >
            Contactar
          </a>
        </div>
      </div>
    </header>

    <main class="relative z-10 pt-20 min-h-screen">
      <slot />
    </main>

    <footer
      class="relative z-10 border-t border-slate-800/50 bg-slate-950 pt-20 pb-10 overflow-hidden"
    >
      <div
        class="absolute top-0 left-1/2 -translate-x-1/2 w-full max-w-3xl h-px bg-linear-to-r from-transparent via-blue-500/50 to-transparent"
      >
      </div>
      <div
        class="absolute top-0 left-1/2 -translate-x-1/2 w-full max-w-3xl h-20 bg-blue-500/5 blur-[50px]"
      >
      </div>

      <div class="container mx-auto px-6">
        <div class="grid md:grid-cols-12 gap-12 mb-16">
          <div class="md:col-span-5 space-y-6">
            <div class="flex items-center space-x-3">
              <div
                class="h-10 w-10 rounded-xl bg-linear-to-br from-blue-600 to-indigo-600 flex items-center justify-center shadow-lg shadow-blue-500/20"
              >
                <span class="font-display font-bold text-xl text-white">SL</span
                >
              </div>
              <span class="text-2xl font-bold font-display text-slate-100"
                >Schenier Lopez</span
              >
            </div>
            <p class="text-slate-400 leading-relaxed max-w-md">
              Desarrollador Backend especializado en Symfony y Laravel con 6
              años de experiencia. Construyo APIs RESTful escalables aplicando
              Clean Architecture y principios SOLID.
            </p>
            <div class="flex items-center space-x-4 pt-2">
              <a
                href="https://github.com/schenier"
                target="_blank"
                rel="noopener noreferrer"
                class="h-10 w-10 rounded-lg bg-slate-900 border border-slate-800 flex items-center justify-center text-slate-400 hover:text-white hover:border-blue-500/50 hover:bg-blue-500/10 transition-all duration-300 group"
              >
                <svg
                  class="w-5 h-5 transform group-hover:scale-110 transition-transform duration-300"
                  fill="currentColor"
                  viewBox="0 0 24 24"
                  aria-hidden="true"
                >
                  <path
                    fill-rule="evenodd"
                    d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"
                    clip-rule="evenodd"></path>
                </svg>
              </a>
              <a
                href="https://linkedin.com/in/schenier"
                target="_blank"
                rel="noopener noreferrer"
                class="h-10 w-10 rounded-lg bg-slate-900 border border-slate-800 flex items-center justify-center text-slate-400 hover:text-white hover:border-blue-500/50 hover:bg-blue-500/10 transition-all duration-300 group"
              >
                <svg
                  class="w-5 h-5 transform group-hover:scale-110 transition-transform duration-300"
                  fill="currentColor"
                  viewBox="0 0 24 24"
                  aria-hidden="true"
                >
                  <path
                    fill-rule="evenodd"
                    d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"
                    clip-rule="evenodd"></path>
                </svg>
              </a>
            </div>
          </div>

          <div class="md:col-span-2 md:col-start-7">
            <h3 class="font-display font-semibold text-white mb-6">Enlaces</h3>
            <ul class="space-y-3">
              <li>
                <a
                  href="#about"
                  class="text-slate-400 hover:text-blue-400 transition-colors duration-200 text-sm"
                  >Sobre Mí</a
                >
              </li>
              <li>
                <a
                  href="#portfolio"
                  class="text-slate-400 hover:text-blue-400 transition-colors duration-200 text-sm"
                  >Portafolio</a
                >
              </li>
              <li>
                <a
                  href="#services"
                  class="text-slate-400 hover:text-blue-400 transition-colors duration-200 text-sm"
                  >Servicios</a
                >
              </li>
              <li>
                <a
                  href="#blog"
                  class="text-slate-400 hover:text-blue-400 transition-colors duration-200 text-sm"
                  >Blog</a
                >
              </li>
            </ul>
          </div>

          <div class="md:col-span-2">
            <h3 class="font-display font-semibold text-white mb-6">
              Expertise
            </h3>
            <ul class="space-y-3">
              <li>
                <a
                  href="#services"
                  class="text-slate-400 hover:text-blue-400 transition-colors duration-200 text-sm"
                  >Symfony & Doctrine</a
                >
              </li>
              <li>
                <a
                  href="#services"
                  class="text-slate-400 hover:text-blue-400 transition-colors duration-200 text-sm"
                  >Laravel & NodeJS</a
                >
              </li>
              <li>
                <a
                  href="#services"
                  class="text-slate-400 hover:text-blue-400 transition-colors duration-200 text-sm"
                  >Clean Architecture</a
                >
              </li>
              <li>
                <a
                  href="#services"
                  class="text-slate-400 hover:text-blue-400 transition-colors duration-200 text-sm"
                  >TDD & Testing</a
                >
              </li>
            </ul>
          </div>

          <div class="md:col-span-2">
            <h3 class="font-display font-semibold text-white mb-6">Contacto</h3>
            <ul class="space-y-3">
              <li>
                <a
                  href="mailto:contact@schenierlopez.es"
                  class="text-slate-400 hover:text-blue-400 transition-colors duration-200 text-sm"
                  >contact@schenierlopez.es</a
                >
              </li>
              <li>
                <span class="text-slate-500 text-sm"
                  >Disponible para proyectos freelance</span
                >
              </li>
            </ul>
          </div>
        </div>

        <div
          class="pt-8 border-t border-slate-800/50 flex flex-col md:flex-row items-center justify-between gap-4"
        >
          <p class="text-slate-500 text-sm text-center md:text-left">
            &copy; {new Date().getFullYear()} Schenier Lopez. Todos los derechos
            reservados.
          </p>
        </div>
      </div>
    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"
    ></script>
    <script>
      const mobileMenuBtn = document.getElementById("mobile-menu-btn");
      const mobileMenu = document.getElementById("mobile-menu");
      const mobileLinks = document.querySelectorAll(".mobile-link");
      const header = document.getElementById("main-header");
      let isMenuOpen = false;

      function toggleMenu() {
        isMenuOpen = !isMenuOpen;
        if (isMenuOpen) {
          mobileMenu?.classList.remove("translate-x-full");
          document.body.style.overflow = "hidden";
          mobileMenuBtn?.children[0].children[0].classList.add(
            "rotate-45",
            "translate-y-2"
          );
          mobileMenuBtn?.children[0].children[1].classList.add("opacity-0");
          mobileMenuBtn?.children[0].children[2].classList.add(
            "-rotate-45",
            "-translate-y-2"
          );
        } else {
          mobileMenu?.classList.add("translate-x-full");
          document.body.style.overflow = "";
          mobileMenuBtn?.children[0].children[0].classList.remove(
            "rotate-45",
            "translate-y-2"
          );
          mobileMenuBtn?.children[0].children[1].classList.remove("opacity-0");
          mobileMenuBtn?.children[0].children[2].classList.remove(
            "-rotate-45",
            "-translate-y-2"
          );
        }
      }

      mobileMenuBtn?.addEventListener("click", toggleMenu);

      mobileLinks.forEach((link) => {
        link.addEventListener("click", () => {
          if (isMenuOpen) toggleMenu();
        });
      });

      window.addEventListener("scroll", () => {
        if (window.scrollY > 20) {
          header?.classList.add(
            "bg-slate-950/80",
            "backdrop-blur-md",
            "border-slate-800/50",
            "shadow-lg",
            "shadow-blue-900/5"
          );
          header?.classList.remove("border-transparent");
        } else {
          header?.classList.remove(
            "bg-slate-950/80",
            "backdrop-blur-md",
            "border-slate-800/50",
            "shadow-lg",
            "shadow-blue-900/5"
          );
          header?.classList.add("border-transparent");
        }
      });
    </script>
  </body>
</html>

---
// Tech Stack Section - Corporate Tech Noir Design
// Horizontal Infinite Scroll Implementation

const skills = [
  // Row 1: Backend Frameworks & Languages (Scrolls Left)
  [
    {
      name: 'Laravel',
      icon: 'laravel',
      color: 'text-red-500',
      bg: 'bg-red-500/10',
      border: 'group-hover:border-red-500/50',
      description: 'Desarrollo de aplicaciones monolíticas y APIs RESTful desde la versión 5.'
    },
    {
      name: 'Symfony',
      icon: 'symfony',
      color: 'text-slate-200',
      bg: 'bg-slate-200/10',
      border: 'group-hover:border-slate-200/50',
      description: 'Construcción de aplicaciones empresariales robustas y componentes reutilizables.'
    },
    {
      name: 'NestJS',
      icon: 'nestjs',
      color: 'text-red-600',
      bg: 'bg-red-600/10',
      border: 'group-hover:border-red-600/50',
      description: 'Arquitectura modular y escalable para microservicios con TypeScript.'
    },
    {
      name: 'Express.js',
      icon: 'express',
      color: 'text-yellow-400',
      bg: 'bg-yellow-400/10',
      border: 'group-hover:border-yellow-400/50',
      description: 'APIs ligeras de alto rendimiento y middleware personalizado.'
    },
    {
      name: 'PHP',
      icon: 'php',
      color: 'text-indigo-400',
      bg: 'bg-indigo-400/10',
      border: 'group-hover:border-indigo-400/50',
      description: 'Dominio profundo del lenguaje, PHP 8+, JIT y programación asíncrona.'
    },
    {
      name: 'Node.js',
      icon: 'node',
      color: 'text-green-500',
      bg: 'bg-green-500/10',
      border: 'group-hover:border-green-500/50',
      description: 'Runtime de JavaScript para backend escalable y event-driven.'
    }
  ],
  // Row 2: Data, DevOps & Cloud (Scrolls Right)
  [
    {
      name: 'MySQL',
      icon: 'mysql',
      color: 'text-blue-500',
      bg: 'bg-blue-500/10',
      border: 'group-hover:border-blue-500/50',
      description: 'Optimización de queries, esquemas normalizados y alta disponibilidad.'
    },
    {
      name: 'PostgreSQL',
      icon: 'postgres',
      color: 'text-blue-400',
      bg: 'bg-blue-400/10',
      border: 'group-hover:border-blue-400/50',
      description: 'Bases de datos relacionales avanzadas, JSONB y extensiones.'
    },
    {
      name: 'Docker',
      icon: 'docker',
      color: 'text-blue-600',
      bg: 'bg-blue-600/10',
      border: 'group-hover:border-blue-600/50',
      description: 'Containerización y orquestación de entornos de desarrollo/prod.'
    },
    {
      name: 'AWS',
      icon: 'aws',
      color: 'text-orange-500',
      bg: 'bg-orange-500/10',
      border: 'group-hover:border-orange-500/50',
      description: 'Infraestructura cloud: EC2, S3, RDS, Lambda y VPC.'
    },
    {
      name: 'Redis',
      icon: 'redis',
      color: 'text-red-500',
      bg: 'bg-red-500/10',
      border: 'group-hover:border-red-500/50',
      description: 'Caché en memoria, colas de mensajes y almacenamiento key-value.'
    },
    {
      name: 'MongoDB',
      icon: 'mongo',
      color: 'text-green-500',
      bg: 'bg-green-500/10',
      border: 'group-hover:border-green-500/50',
      description: 'Base de datos NoSQL para datos flexibles y gran volumen.'
    }
  ],
  // Row 3: Architecture & Concepts (Scrolls Left)
  [
    {
      name: 'Microservicios',
      icon: 'microservices',
      color: 'text-purple-500',
      bg: 'bg-purple-500/10',
      border: 'group-hover:border-purple-500/50',
      description: 'Sistemas distribuidos desacoplados y escalables independientemente.'
    },
    {
      name: 'Clean Code',
      icon: 'code',
      color: 'text-emerald-500',
      bg: 'bg-emerald-500/10',
      border: 'group-hover:border-emerald-500/50',
      description: 'Código legible, mantenible y testeable. Principios SOLID.'
    },
    {
      name: 'Hexagonal Arch',
      icon: 'hexagonal',
      color: 'text-amber-500',
      bg: 'bg-amber-500/10',
      border: 'group-hover:border-amber-500/50',
      description: 'Puertos y adaptadores para aislar el dominio de la infraestructura.'
    },
    {
      name: 'Event Driven',
      icon: 'event',
      color: 'text-pink-500',
      bg: 'bg-pink-500/10',
      border: 'group-hover:border-pink-500/50',
      description: 'Arquitecturas reactivas y asíncronas basadas en eventos.'
    },
    {
      name: 'CI/CD',
      icon: 'cicd',
      color: 'text-cyan-400',
      bg: 'bg-cyan-400/10',
      border: 'group-hover:border-cyan-400/50',
      description: 'Pipelines automatizados para integración y despliegue continuo.'
    },
    {
      name: 'TDD',
      icon: 'test',
      color: 'text-lime-400',
      bg: 'bg-lime-400/10',
      border: 'group-hover:border-lime-400/50',
      description: 'Desarrollo guiado por pruebas para garantizar robustez.'
    }
  ]
];
---

<section id="tech" class="relative min-h-screen py-20 overflow-hidden bg-slate-900 flex flex-col justify-center">
  <!-- Background Layers -->
  <div class="absolute inset-0 pointer-events-none">
    <div class="absolute inset-0 bg-gradient-to-b from-slate-900 via-slate-950 to-slate-900"></div>
    <div class="absolute inset-0 opacity-[0.03]">
      <div class="absolute inset-0" style="background-image: linear-gradient(to right, #3b82f6 1px, transparent 1px), linear-gradient(to bottom, #3b82f6 1px, transparent 1px); background-size: 40px 40px;"></div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="relative z-10 w-full">
    <!-- Section Header -->
    <div class="container mx-auto px-6 text-center mb-16 animate-reveal">
      <h2 class="text-4xl md:text-5xl font-bold font-display mb-6">
        <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-purple-400 to-emerald-400">
          Stack Tecnológico
        </span>
      </h2>
      <p class="text-xl text-slate-300 max-w-3xl mx-auto leading-relaxed">
        Experiencia técnica y principios de ingeniería
      </p>
    </div>

    <!-- Horizontal Sliders Container -->
    <div class="space-y-8 md:space-y-12">
      
      {skills.map((row, rowIndex) => (
        <div class="relative w-full overflow-hidden group/row mask-gradient-horizontal">
          <!-- Scrolling Wrapper -->
          <div class={`flex w-max space-x-6 animate-scroll-${rowIndex % 2 === 0 ? 'left' : 'right'} group-hover/row:paused`}>
            <!-- Triple the items for seamless loop on wide screens -->
            {[...row, ...row, ...row].map((skill) => (
              <div class="w-[280px] md:w-[320px] shrink-0">
                <div class={`group relative bg-slate-800/40 backdrop-blur-sm border border-slate-700/50 rounded-xl p-5 transition-all duration-300 hover:scale-105 hover:bg-slate-800/80 hover:shadow-2xl hover:z-10 ${skill.border}`}>
                  
                  <!-- Default State: Icon + Name -->
                  <div class="flex items-center space-x-4">
                    <div class={`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${skill.bg}`}>
                      <!-- Icons (Simplified SVGs) -->
                      {skill.icon === 'laravel' && <svg class={`w-6 h-6 ${skill.color}`} viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L2 7l10 5 10-5-10-5zm0 9l2.5-1.25L12 8.5l-2.5 1.25L12 11zm0 2.5l-5-2.5-5 2.5L12 22l10-8.5-5-2.5-5 2.5z"/></svg>}
                      {skill.icon === 'symfony' && <svg class={`w-6 h-6 ${skill.color}`} viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/></svg>}
                      {skill.icon === 'nestjs' && <svg class={`w-6 h-6 ${skill.color}`} viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L2 7l10 5 10-5-10-5zm0 9l2.5-1.25L12 8.5l-2.5 1.25L12 11zm0 2.5l-5-2.5-5 2.5L12 22l10-8.5-5-2.5-5 2.5z"/></svg>}
                      {skill.icon === 'express' && <svg class={`w-6 h-6 ${skill.color}`} viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/></svg>}
                      {skill.icon === 'php' && <svg class={`w-6 h-6 ${skill.color}`} viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/></svg>}
                      {skill.icon === 'node' && <svg class={`w-6 h-6 ${skill.color}`} viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/></svg>}
                      {skill.icon === 'mysql' && <svg class={`w-6 h-6 ${skill.color}`} viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/></svg>}
                      {skill.icon === 'postgres' && <svg class={`w-6 h-6 ${skill.color}`} viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/></svg>}
                      {skill.icon === 'docker' && <svg class={`w-6 h-6 ${skill.color}`} viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/></svg>}
                      {skill.icon === 'aws' && <svg class={`w-6 h-6 ${skill.color}`} viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/></svg>}
                      {skill.icon === 'redis' && <svg class={`w-6 h-6 ${skill.color}`} viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/></svg>}
                      {skill.icon === 'mongo' && <svg class={`w-6 h-6 ${skill.color}`} viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/></svg>}
                      {skill.icon === 'microservices' && <svg class={`w-6 h-6 ${skill.color}`} viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/></svg>}
                      {skill.icon === 'code' && <svg class={`w-6 h-6 ${skill.color}`} viewBox="0 0 24 24" fill="currentColor"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/></svg>}
                      {skill.icon === 'hexagonal' && <svg class={`w-6 h-6 ${skill.color}`} viewBox="0 0 24 24" fill="currentColor"><path d="M12 2l9 5v10l-9 5-9-5V7l9-5zm0 2.2L5.2 8.4v7.2L12 19.8l6.8-4.2V8.4L12 4.2z"/></svg>}
                      {skill.icon === 'event' && <svg class={`w-6 h-6 ${skill.color}`} viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/></svg>}
                      {skill.icon === 'cicd' && <svg class={`w-6 h-6 ${skill.color}`} viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/></svg>}
                      {skill.icon === 'test' && <svg class={`w-6 h-6 ${skill.color}`} viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/></svg>}
                    </div>
                    <h4 class="text-lg font-semibold font-display text-slate-200 group-hover:text-white transition-colors">
                      {skill.name}
                    </h4>
                  </div>

                  <!-- Hover Detail -->
                  <div class="max-h-0 opacity-0 group-hover:max-h-40 group-hover:opacity-100 transition-all duration-500 ease-in-out overflow-hidden">
                    <div class="pt-3 border-t border-slate-700/50 mt-3">
                      <p class="text-sm text-slate-400 leading-relaxed font-body">
                        {skill.description}
                      </p>
                    </div>
                  </div>

                </div>
              </div>
            ))}
          </div>
        </div>
      ))}

    </div>
  </div>

  <style>
    .mask-gradient-horizontal {
      mask-image: linear-gradient(
        to right,
        transparent,
        black 10%,
        black 90%,
        transparent
      );
    }

    .group-hover\/row\:paused:hover {
      animation-play-state: paused;
    }

    @keyframes scroll-left {
      0% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(-33.33%);
      }
    }

    @keyframes scroll-right {
      0% {
        transform: translateX(-33.33%);
      }
      100% {
        transform: translateX(0);
      }
    }

    .animate-scroll-left {
      animation: scroll-left 50s linear infinite;
    }

    .animate-scroll-right {
      animation: scroll-right 50s linear infinite;
    }

    /* Reduced Motion */
    @media (prefers-reduced-motion: reduce) {
      .animate-scroll-left,
      .animate-scroll-right {
        animation: none;
        transform: none;
      }
      
      .scrolling-wrapper-horizontal {
        overflow-x: auto;
        width: 100%;
      }
    }
  </style>
</section>

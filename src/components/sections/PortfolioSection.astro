---
interface Project {
  title: string;
  category: "Landing Page" | "Custom Project" | "API Integration";
  description: string;
  image: string;
  techStack: string[];
}

const projects: Project[] = [
  {
    title: "TechCorp Landing",
    category: "Landing Page",
    description: "High-conversion landing page with 3D elements and interactive product demos.",
    image: "https://placehold.co/600x400/1e293b/3b82f6?text=TechCorp+Landing",
    techStack: ["Astro", "Three.js"],
  },
  {
    title: "Creative Studio",
    category: "Landing Page",
    description: "Portfolio site featuring smooth scroll animations.",
    image: "https://placehold.co/600x400/1e293b/3b82f6?text=Creative+Studio",
    techStack: ["React", "GSAP"],
  },
  {
    title: "Event Horizon",
    category: "Landing Page",
    description: "Promotional page with countdown and ticket registration.",
    image: "https://placehold.co/600x400/1e293b/3b82f6?text=Event+Horizon",
    techStack: ["Vue", "Nuxt"],
  },
  {
    title: "E-Commerce Dashboard",
    category: "Custom Project",
    description: "Admin panel for managing products, orders, and real-time analytics.",
    image: "https://placehold.co/600x400/1e293b/10b981?text=E-Commerce+Dashboard",
    techStack: ["Next.js", "Prisma"],
  },
  {
    title: "TaskMaster Pro",
    category: "Custom Project",
    description: "Project management tool with real-time collaboration.",
    image: "https://placehold.co/600x400/1e293b/10b981?text=TaskMaster+Pro",
    techStack: ["Svelte", "Firebase"],
  },
  {
    title: "HealthTrack App",
    category: "Custom Project",
    description: "Patient monitoring system with secure data handling.",
    image: "https://placehold.co/600x400/1e293b/10b981?text=HealthTrack+App",
    techStack: ["Angular", "RxJS"],
  },
  {
    title: "Payment Gateway API",
    category: "API Integration",
    description: "Robust API for processing payments with fraud detection.",
    image: "https://placehold.co/600x400/1e293b/f59e0b?text=Payment+Gateway+API",
    techStack: ["Node.js", "Stripe"],
  },
  {
    title: "Logistics Tracker API",
    category: "API Integration",
    description: "RESTful API for real-time shipment tracking.",
    image: "https://placehold.co/600x400/1e293b/f59e0b?text=Logistics+Tracker+API",
    techStack: ["NestJS", "Docker"],
  },
];
---

<section id="portfolio" class="relative py-16 bg-slate-950 overflow-hidden">
  <div class="absolute inset-0 bg-[linear-gradient(to_right,#1e293b_1px,transparent_1px),linear-gradient(to_bottom,#1e293b_1px,transparent_1px)] bg-[size:4rem_4rem] [mask-image:radial-gradient(ellipse_60%_50%_at_50%_0%,#000_70%,transparent_100%)] opacity-20 pointer-events-none"></div>

  <div class="container mx-auto px-4 relative z-10">
    <div class="flex flex-col md:flex-row justify-between items-end mb-8">
      <div class="text-left">
        <span class="text-blue-500 font-mono text-sm tracking-wider uppercase mb-2 block">Portfolio</span>
        <h2 class="text-3xl md:text-4xl font-bold font-heading text-white">
          Selected <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-emerald-400">Works</span>
        </h2>
      </div>
      
      <div class="flex items-center gap-4 mt-4 md:mt-0">
        <button id="prev-project" class="p-2 rounded-full border border-slate-700 bg-slate-900/50 text-slate-400 hover:text-white hover:border-blue-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed" aria-label="Previous projects">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
          </svg>
        </button>
        <button id="next-project" class="p-2 rounded-full border border-slate-700 bg-slate-900/50 text-slate-400 hover:text-white hover:border-blue-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed" aria-label="Next projects">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </button>
      </div>
    </div>

    <div class="relative -mx-4 px-4">
      <div 
        id="portfolio-slider" 
        class="flex gap-6 overflow-x-auto pb-8 snap-x snap-mandatory scrollbar-hide"
        style="scrollbar-width: none; -ms-overflow-style: none;"
      >
        {projects.map((project) => (
          <div class="project-card flex-shrink-0 snap-center group relative rounded-2xl overflow-hidden bg-slate-900/40 border border-slate-800/50 backdrop-blur-sm hover:border-blue-500/30 transition-colors duration-500 w-[85vw] md:w-[400px] h-[450px]">
            <div class="glow-effect absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none z-0" style="background: radial-gradient(600px circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(59, 130, 246, 0.1), transparent 40%);"></div>

            <div class="relative h-full flex flex-col z-10">
              <div class="relative h-3/5 overflow-hidden">
                <div class="absolute inset-0 bg-gradient-to-t from-slate-950 via-transparent to-transparent z-10"></div>
                <img
                  src={project.image}
                  alt={project.title}
                  class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700 ease-out"
                  loading="lazy"
                />

                <div class="absolute top-4 left-4 z-20">
                  <span class="px-3 py-1 text-xs font-medium rounded-full bg-slate-950/50 backdrop-blur-md border border-slate-700/50 text-slate-300">
                    {project.category}
                  </span>
                </div>
              </div>

              <div class="p-6 relative flex-grow flex flex-col justify-between">
                <div>
                  <h3 class="text-2xl font-bold text-white mb-2 group-hover:text-blue-400 transition-colors">
                    {project.title}
                  </h3>
                  <p class="text-slate-400 text-sm mb-4 line-clamp-2 group-hover:text-slate-300 transition-colors">
                    {project.description}
                  </p>
                </div>

                <div class="flex items-end justify-between mt-auto">
                  <div class="flex flex-wrap gap-2">
                    {project.techStack.map((tech) => (
                      <span class="text-xs font-mono text-blue-400/80 bg-blue-950/30 px-2 py-1 rounded border border-blue-900/30">
                        {tech}
                      </span>
                    ))}
                  </div>

                  <div class="transform translate-x-4 opacity-0 group-hover:translate-x-0 group-hover:opacity-100 transition-all duration-300">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                    </svg>
                  </div>
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>
      
      <div class="w-full h-1 bg-slate-800 mt-4 rounded-full overflow-hidden max-w-md mx-auto">
        <div id="scroll-progress" class="h-full bg-blue-500 w-0 transition-all duration-100 ease-out"></div>
      </div>
    </div>
  </div>
</section>

<style>
  .project-card {
    --mouse-x: 50%;
    --mouse-y: 50%;
  }
  
  /* Hide scrollbar for Chrome, Safari and Opera */
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
</style>
